<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" title="Bus Times">
	<fx:Declarations>
	
	</fx:Declarations>
	<s:List id="newdata" left="0" right="0" top="100" bottom="0"
			color="#000000" dataProvider="{new_data}" >
		
		<s:itemRenderer>
			<fx:Component>
				<s:IconItemRenderer
					
					label="{data.route}"
				
					/>
			</fx:Component>
		</s:itemRenderer>
		
	</s:List>
	<s:TextInput id="textbox" x="169" y="26" width="451" change="search(textbox.text)"/>
	<s:Label x="31" y="39" id="lbl"/>
	<fx:Script>
		<![CDATA[
			import mx.collections.ArrayCollection;
			
			import spark.events.IndexChangeEvent;
			[Bindable]
			public var home_data:ArrayCollection = new ArrayCollection([
				{route: "114", direction: "null"},
				{route: "97" , direction: "null"},
				{route: "118", direction: "null"},
				{route: "146", direction: "null"},
				{route: "87", direction: "null"},
				{route: "1" , direction: "null"},
				{route: "86", direction: "null"},
				{route: "112", direction: "null"},
				{route: "144", direction: "null"},
				
				]);
			[Bindable]
			public var new_data:ArrayCollection = home_data
			
			public function search(query:String):void
			{
				lbl.text=query.length.toString()
				new_data=new ArrayCollection();
				var a:int = 0
				
				for (var i:int;i<home_data.length;i++)
				{
					var b:String = home_data[i].route
					if (query.length == 3)
					{
						
						if (query == b)
						{
							a=1		
							new_data.addItem(home_data[i])
						}
						
					}
					else if (query.length == 2)
					{
						if (query.charAt(0) == b.charAt(0))
							{
								if (query.charAt(1) == b.charAt(1))
									{
									new_data.addItem(home_data[i])
									a=1
									}
							}
						
					}
					else if (query.length == 1)
					{
						if (query.charAt(0) == b.charAt(0))
							{
								new_data.addItem(home_data[i])
									a=1
							}
					}
					else 
					{
						new_data = home_data
						break;
					}
				}
				if (a != 1)
				{
					new_data = home_data
				}
				
			}
			
			
			
			]]>
	</fx:Script>
</s:View>
